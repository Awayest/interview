![计算机网络面试题汇总](https://guizimo.oss-cn-shanghai.aliyuncs.com/img/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98%E6%B1%87%E6%80%BB.png)



## 1、HTTP协议

### 1.1、常见的HTTP请求头和响应头

`HTTP`请求头和响应头是`HTTP`协议中的重要部分，它们包含了一些元数据，用于描述请求和响应的信息。常见的`HTTP`请求头和响应头如下：

1. **请求头**

- `Accept`：指定客户端能够接收的内容类型；
- `Accept-Encoding`：指定客户端能够接收的内容编码方式；
- `Accept-Language`：指定客户端能够接收的语言类型；
- `Cache-Control`：指定请求和响应的缓存机制； 
- `Connection`：指定客户端与服务器之间连接的类型；
- `User-Agent`：指定客户端的浏览器类型和版本号；
- `Referer`：指定从哪个页面跳转过来的；
- `Host`：指定请求的服务器域名和端口号；
- `Cookie`：指定客户端的Cookie信息；
- `Authorization`：指定客户端的身份认证信息；

2. **响应头**

- `Content-Type`：指定响应的内容类型；
- `Content-Encoding`：指定响应的内容编码方式；
- `Content-Language`：指定响应的语言类型；
- `Cache-Control`：指定请求和响应的缓存机制；
- `Server`：指定响应的服务器类型和版本号；
- `Set-Cookie`：指定响应的Cookie信息；
- `Content-Length`：指定响应内容的长度；
- `Date`：指定响应的时间戳；
- `ETag`：指定响应内容的标识符；
- `Last-Modified`：指定响应内容的最后修改时间；
- `Location`：指定响应的跳转地址；
- `Access-Control-Allow-Origin`：指定允许跨域请求的域名；

这些`HTTP`请求头和响应头是`HTTP`协议中常见的，它们可以用于描述请求和响应的信息，从而实现更加精细化的控制和管理。在实际开发中，需要根据具体的需求选择合适的`HTTP`请求头和响应头。

### 1.2、常见的Content-Type属性值

`Content-Type`指定了请求的内容类型，它是`HTTP`协议中的一个重要的标识。常见的`Content-Type`值如下：

1. **application/x-www-form-urlencoded**

   指定请求内容为表单格式，常用于提交表单数据。

2. **multipart/form-data**

   指定请求内容为多部分表单格式，常用于上传文件。

3. **application/json**

   指定请求内容为`JSON`格式，常用于`API`接口的请求。

4. **text/plain**

   指定请求内容为纯文本格式，常用于发送文本数据。

5. **application/octet-stream**

   指定请求内容为二进制流格式，常用于上传文件。

6. **application/xml**

   指定请求内容为`XML`格式，常用于`API`接口的请求。

这些`Content-Type`值是`HTTP`协议中常见的，它们可以用于描述请求的内容类型，从而帮助服务器正确地解析请求内容。在实际开发中，需要根据具体的需求和场景选择合适的`Content-Type`值。

### 1.3、常见的HTTP请求方法

`HTTP`协议定义了多种请求方法，常见的HTTP请求方法如下：

1. **GET**

   `GET`请求用于获取资源，例如获取网页、图片等。`GET`请求的特点是请求参数在`URL`中传递，通常不会对服务器上的数据进行修改。

2. **POST**

   `POST`请求用于向服务器提交数据，例如提交表单数据、上传文件等。`POST`请求的特点是请求参数在请求体中传递，通常会对服务器上的数据进行修改。

3. **PUT**

   `PUT`请求用于向服务器上传文件或者更新资源。`PUT`请求的特点是要求完全替换掉服务器上的资源，不支持部分更新。

4. **DELETE**

   `DELETE`请求用于删除服务器上的资源。`DELETE`请求的特点是要求服务器删除指定的资源。

5. **OPTIONS**

   `OPTIONS`请求用于查询服务器支持的`HTTP`请求方法。`OPTIONS`请求的特点是不会修改服务器上的资源，只是查询服务器的状态信息。

6. **HEAD**

   `HEAD`请求用于查询服务器上的资源信息，例如查询文件大小、修改时间等。`HEAD`请求的特点是只返回响应头，不返回响应体，可以用于节省网络带宽。

7. **CONNECT**

   `CONNECT`请求要求在与代理服务器通信时建立隧道，使用隧道进行TCP通信；

8. **TRACE**

   `CONNECT`请求回显服务器收到的请求，主要⽤于测试或诊断。

这些`HTTP`请求方法是`HTTP`协议中常见的，它们可以用于不同的场景和需求。在实际开发中，需要根据具体的需求选择合适的`HTTP`请求方法。

### 1.4、GET和POST的请求的区别

`GET`和`POST`是`HTTP`协议中常见的两种请求方法，它们有以下不同点：

1. **数据传输方式**

   `GET`请求是通过`URL`传递参数，而`POST`请求是通过请求体传递参数。具体来说，GET请求将参数拼接在URL后面，而POST请求将参数放在请求体中。

2. **请求长度限制**

   由于`GET`请求是通过`URL`传递参数，`URL`的长度是有限制的，通常为`2048`个字符。因此，`GET`请求传递的参数长度有限制；而`POST`请求是将参数放在请求体中传递，没有长度限制。

3. **安全性**

   由于`GET`请求将参数暴露在`URL`中，因此不适合传输敏感信息，例如密码等；而`POST`请求将参数放在请求体中，相对安全一些。

4. **缓存机制**

   由于`GET`请求是通过`URL`传递参数，可以被浏览器缓存，因此可以提高页面的加载速度；而`POST`请求不会被浏览器缓存，每次都会重新请求。

5. **幂等性**

   `GET`请求是幂等的，即多次请求同一个`URL`的结果是相同的，不会对服务器造成影响；而`POST`请求不是幂等的，即多次请求同一个`URL`的结果可能会不同。

综上所述，`GET`请求比`POST`请求更适合用于获取数据，而`POST`请求比`GET`请求更适合用于提交数据。在实际开发中，需要根据具体的需求选择合适的请求方法。

### 1.5、OPTIONS请求方法及使用场景

`OPTIONS`是一种`HTTP`请求方法，用于请求目标资源支持的`HTTP`方法、`CORS`（跨域资源共享）相关信息以及服务器支持的其他选项。当客户端想要确定资源支持哪些请求方法时，可以使用`OPTIONS`方法。

`OPTIONS`请求方法的使用场景包括：

1. **确定服务器支持的HTTP方法**：当客户端想要访问一个资源时，可以使用`OPTIONS`方法来确定服务器支持哪些`HTTP`方法。服务器会在响应中返回支持的`HTTP`方法，客户端可以根据这些信息来选择合适的`HTTP`方法进行访问。
2. **CORS预检请求**：当客户端想要进行跨域请求时，需要先进行`CORS`预检请求。这个预检请求就是使用`OPTIONS`方法发出的，用于询问服务器是否允许跨域请求。
3. **确定资源是否存在**：有时候客户端需要确定一个资源是否存在，可以使用`OPTIONS`方法来尝试请求该资源。如果服务器返回`200` `OK`状态码，则表示该资源存在。
4. **获取资源的元数据信息**：客户端可以使用`OPTIONS`方法来获取资源的元数据信息，例如资源的大小、类型、创建日期等信息。服务器会在响应中返回这些元数据信息，客户端可以据此来了解资源的详细信息。

需要注意的是，`OPTIONS`方法不会对目标资源进行实际的请求，它只是询问资源支持的`HTTP`方法和其他选项。服务器会在响应中返回支持的选项，客户端可以根据这些信息来进行后续的请求操作。

### 1.6、HTTP 1.0、HTTP 1.1 、HTTP 2.0之间有哪些区别

HTTP 1.0、HTTP 1.1和HTTP 2.0是HTTP协议的不同版本，它们之间有以下几个区别：

1. 连接复用：HTTP 1.0每次请求都需要创建一个新的TCP连接，而HTTP 1.1引入了持久连接（keep-alive），可以在一个TCP连接上发送多个请求和响应。HTTP 2.0更进一步引入了多路复用，允许在一个TCP连接上并行发送多个请求和响应，提高了性能。
2. 请求头压缩：HTTP 1.0和HTTP 1.1的请求头不进行压缩，导致请求头占用了很多带宽。HTTP 2.0使用了HPACK算法对请求头进行压缩，减少了请求头的大小，提高了传输效率。
3. 二进制协议：HTTP 1.0和HTTP 1.1使用ASCII文本格式进行通信，而HTTP 2.0使用了二进制格式，减少了数据传输的大小，提高了传输效率。
4. 流控制：HTTP 2.0支持流控制，可以控制每个流的传输速率，避免了网络拥塞。
5. 服务器推送：HTTP 2.0支持服务器推送，可以在客户端请求前就主动将相关资源推送给客户端，提高了性能。
6. 安全性：HTTP 1.0和HTTP 1.1的安全性较差，需要通过HTTPS等方式来提高安全性。而HTTP 2.0要求使用TLS加密，提高了安全性。

总的来说，HTTP 2.0相比于HTTP 1.0和HTTP 1.1在性能、安全性等方面有了很大的提升。但是需要注意的是，HTTP 2.0并不是所有场景下都比HTTP 1.1更快，对于小文件或者带宽较低的场景，HTTP 1.1可能更加适合。

### 1.7、说一下HTTP 3.0

HTTP 3.0是HTTP协议的最新版本，也称为“HTTP over QUIC”，在传输层使用了QUIC（Quick UDP Internet Connections）协议，是一种基于UDP协议的高性能传输协议。HTTP 3.0与以往的HTTP协议相比，有以下几个主要的不同点：

1. 传输层使用QUIC：HTTP 3.0使用QUIC作为传输层协议，相比于TCP协议，QUIC具有更好的传输性能和安全性，可以更好地应对网络延迟和丢包等问题。
2. 头部压缩：HTTP 3.0采用了与HTTP 2.0相同的头部压缩技术，可以减少请求头的大小，提高传输效率。
3. 多路复用：HTTP 3.0支持多路复用，可以在一个连接上并发地传输多个请求和响应，提高了传输效率。
4. 0-RTT连接：HTTP 3.0支持0-RTT（Zero Round Trip Time）连接，可以在客户端和服务器之间建立连接时避免握手延迟，提高了连接建立速度。
5. 安全性：HTTP 3.0要求使用加密的传输，可以提高传输的安全性，防止数据被窃取或篡改。

需要注意的是，HTTP 3.0目前还处于实验阶段，尚未被广泛应用。虽然HTTP 3.0具有很多优点，但是在某些情况下，如网络环境较差或者服务器不支持QUIC协议，HTTP 3.0的性能可能不如HTTP 2.0或者HTTP 1.1。因此，在选择使用哪个版本的HTTP协议时，需要根据具体的场景和需求来进行选择。

### 1.8、HTTP的状态码

HTTP状态码是在客户端和服务器之间进行通信时，用于表示请求的处理结果的三位数字代码。状态码由服务器发送到客户端，用于指示客户端如何处理请求。以下是常见的HTTP状态码及其含义：

1. 1xx（信息提示）：服务器收到请求，需要进一步操作才能完成请求。

- 100（继续）：客户端应继续其请求。
- 101（切换协议）：服务器将遵从客户端的请求，切换到另外一个协议。

2. 2xx（成功）：请求已成功处理。

- 200（成功）：请求已成功处理。
- 201（已创建）：请求已经被实现，资源已经被创建。
- 204（无内容）：服务器成功处理了请求，但是没有返回任何内容。
- 205（重置内容）：表示请求成功，但响应报文不含实体的主体部分，但是与 204 响应不同在于要求请求方重置内容。
- 206（部分内容）：进行范围请求。

3. 3xx（重定向）：需要进一步的操作以完成请求。

- 301（永久移动）：请求的资源已被永久移动到新的URI。
- 302（临时移动）：请求的资源已被临时移动到新的URI。
- 303（临时移动）：表示资源存在着另一个 URL，应使用 GET 方法获取资源。
- 304（未修改）：请求的资源没有被修改，可以直接使用缓存的版本。
- 307（临时移动）：临时重定向，和302含义类似，但是期望客户端保持请求方法不变向新的地址发出请求。

4. 4xx（客户端错误）：请求包含语法错误或无法完成请求。

- 400（错误请求）：服务器无法理解请求的格式，可能是语法错误。
- 401（未授权）：请求需要身份验证。
- 403（禁止访问）：服务器拒绝请求。
- 404（未找到）：服务器找不到请求的资源。

5. 5xx（服务器错误）：服务器在处理请求时发生错误。

- 500（服务器内部错误）：服务器在处理请求时发生错误。
- 501（没有实现）：表示服务器不支持当前请求所需要的某个功能。
- 503（服务不可用）：服务器当前无法处理请求，可能是由于维护或过载。

### 1.9、同样是重定向，**307**，**303**，**302**的区别

302是http1.0的协议状态码，在http1.1版本的时候为了细化302状态码⼜出来了两个303和307。 303明确表示客户端应当采⽤get⽅法获取资源，他会把POST请求变为GET请求进⾏重定向。 307会遵照浏览器标准，不会从post变为get。

## 2、HTTPS

### 2.1、HTTP和HTTPS协议的区别

HTTP（HyperText Transfer Protocol）和HTTPS（HTTP Secure）是两种不同的协议，它们在数据传输和安全性方面有以下几个主要的区别：

1. 数据传输方式不同：HTTP使用明文传输数据，而HTTPS使用SSL/TLS加密传输数据，可以保证数据的机密性和完整性。
2. 端口不同：HTTP默认使用端口80进行通信，而HTTPS默认使用端口443进行通信。
3. 安全性不同：由于HTTP使用明文传输数据，因此数据容易被窃听、篡改或者伪造。而HTTPS使用SSL/TLS加密传输数据，可以保证数据的安全性，防止数据被窃听、篡改或者伪造。
4. 证书和身份验证：HTTPS需要使用SSL/TLS证书对服务器进行身份验证，确保客户端与服务器之间的通信是安全可信的。
5. 性能开销：HTTPS需要进行加密和解密操作，因此会造成一定的性能开销，比HTTP慢一些。

总的来说，HTTPS相比于HTTP在数据传输和安全性方面有更高的要求和保障，可以保证数据的机密性、完整性和真实性，防止数据被窃听、篡改或者伪造。但是HTTPS相比于HTTP会增加一定的性能开销，需要进行加密和解密操作，因此在一些对性能要求较高的场景下，可能需要权衡考虑。

### HTTPS通信（握手）过程

HTTPS的通信过程如下：

1. 客户端向服务器发起请求，请求中包含使用的协议版本号、生成的一个随机数、以及客户端支持的加密方法。
2. 服务器端接收到请求后，确认双方使用的加密方法、并给出服务器的证书、以及一个服务器生成的随机数。
3. 客户端确认服务器证书有效后，生成一个新的随机数，并使用数字证书中的公钥，加密这个随机数，然后发给服 务器。并且还会提供一个前面所有内容的 hash 的值，用来供服务器检验。
4. 服务器使用自己的私钥，来解密客户端发送过来的随机数。并提供前面所有内容的 hash 值来供客户端检验。
5. 客户端和服务器端根据约定的加密方法使用前面的三个随机数，生成对话秘钥，以后的对话过程都使用这个秘钥来加密信息。

### HTTPS是如何保证安全的

HTTPS（HTTP Secure）通过使用SSL/TLS协议来保证通信的安全性，具体来说，HTTPS采用了以下几种安全措施：

1. 数据加密：HTTPS使用SSL/TLS协议对传输的数据进行加密，确保传输的数据不会被窃听、篡改或者伪造。SSL/TLS协议采用对称加密和非对称加密相结合的方式来保证数据的机密性和完整性。
2. 服务器身份验证：HTTPS使用SSL/TLS证书对服务器进行身份验证，确保客户端与服务器之间的通信是安全可信的。SSL/TLS证书由证书颁发机构（CA）颁发，可以防止中间人攻击（Man-in-the-middle attack）。
3. 客户端身份验证（可选）：HTTPS可以使用SSL/TLS证书对客户端进行身份验证，确保服务器只与合法的客户端进行通信。客户端身份验证一般用于网银、电商等对安全性要求较高的场景。
4. 安全协议版本：HTTPS采用的SSL/TLS协议支持多个版本，包括SSL 2.0、SSL 3.0、TLS 1.0、TLS 1.1、TLS 1.2和TLS 1.3等，其中TLS 1.2和TLS 1.3是目前最常用的版本。这些协议版本都有较高的安全性和加密强度，可以保证通信的安全性。
5. 安全头部：HTTPS在HTTP协议的基础上增加了一些安全头部，包括Strict-Transport-Security（STS）、X-XSS-Protection、X-Content-Type-Options等，可以提高通信的安全性和可信度。

综上所述，HTTPS通过使用SSL/TLS协议、服务器身份验证、数据加密、安全协议版本和安全头部等多种安全措施来保证通信的安全性，防止数据被窃听、篡改或者伪造。但是需要注意的是，HTTPS并不能完全保证通信的安全，仍然存在一些安全风险，如中间人攻击、SSL/TLS漏洞等，因此需要不断更新和加强安全性措施来提高通信的安全性。

### HTTPS的优点和缺点

HTTPS（HTTP Secure）采用了SSL/TLS协议对传输的数据进行加密，可以保证通信的安全性，具有以下优点：

1. 数据安全性：HTTPS可以保证数据的机密性、完整性和真实性，防止数据被窃听、篡改或者伪造。
2. 身份验证：HTTPS使用SSL/TLS证书对服务器进行身份验证，可以确保客户端与服务器之间的通信是安全可信的。
3. 信任度高：HTTPS使用SSL/TLS证书由证书颁发机构（CA）颁发，可以防止中间人攻击，提高通信的可信度。
4. 支持多种安全协议：HTTPS支持多种安全协议版本，可以根据具体的需求和场景来进行选择。
5. SEO优化：Google等搜索引擎将HTTPS作为SEO排名的权重因素之一，使用HTTPS可以提高网站的SEO排名。

但是HTTPS也存在一些缺点：

1. 性能开销：HTTPS需要进行加密和解密操作，因此会造成一定的性能开销，比HTTP慢一些。
2. 证书费用：HTTPS使用SSL/TLS证书进行服务器身份验证，一般需要购买证书，可能会增加一定的成本。
3. 部署复杂：HTTPS部署相对于HTTP更加复杂，需要进行SSL/TLS证书的安装和配置等操作，需要一定的技术水平。
4. 可扩展性差：HTTPS使用TCP连接，每个连接只能处理一个请求和响应，不利于扩展和负载均衡。

需要根据具体的场景和需求来选择使用HTTP还是HTTPS协议。如果涉及到用户隐私、金融交易等对安全性要求较高的场景，建议使用HTTPS协议保证通信的安全性；如果只是传输一些无关紧要的信息，可以使用HTTP协议进行通信。



## 3、DNS协议

### 3.1、DNS完整的查询过程

DNS（Domain Name System，域名系统）查询过程可以分为以下几个步骤：

1. 应用程序发起查询请求：当用户在浏览器中输入一个域名时，浏览器会向本地DNS服务器发送一个DNS查询请求，以获取域名对应的IP地址。
2. 本地DNS服务器查询本地缓存：本地DNS服务器会首先查询自己的缓存，以查看是否已经解析过该域名。如果已经解析过，则直接返回解析结果，不需要进行后续的查询。
3. 本地DNS服务器查询根域名服务器：如果本地DNS服务器没有缓存该域名的解析结果，则会向根域名服务器发送一个查询请求。根域名服务器是全球DNS系统的顶级服务器，负责管理和维护DNS系统的根域名服务器列表。
4. 根域名服务器返回顶级域名服务器地址：当根域名服务器收到查询请求后，会返回包含请求域名顶级域名服务器的IP地址的响应。顶级域名服务器是负责管理特定顶级域名（例如.com、.org、.cn等）的DNS服务器，它们存储了该顶级域名下的所有二级域名的DNS记录。
5. 本地DNS服务器查询顶级域名服务器：本地DNS服务器收到顶级域名服务器的IP地址后，会向顶级域名服务器发送一个查询请求，以获取该域名所对应的权威DNS服务器的IP地址。
6. 顶级域名服务器返回权威DNS服务器地址：当顶级域名服务器收到查询请求后，会返回包含该域名对应的权威DNS服务器的IP地址的响应。权威DNS服务器是负责管理该域名下所有DNS记录的服务器。
7. 本地DNS服务器查询权威DNS服务器：本地DNS服务器收到权威DNS服务器的IP地址后，会向该服务器发送一个查询请求，以获取该域名对应的IP地址。
8. 权威DNS服务器返回解析结果：当权威DNS服务器收到查询请求后，会返回包含该域名对应IP地址的响应。
9. 本地DNS服务器将解析结果返回给应用程序：本地DNS服务器收到解析结果后，会将其存储在本地缓存中，并将结果返回给应用程序，应用程序可以使用该IP地址与目标服务器建立连接并发送请求。

需要注意的是，DNS查询过程中可能会涉及多个DNS服务器，由于DNS服务器分布在全球不同的地理位置，因此查询的响应时间可能会有所不同。为了提高DNS查询的效率和响应速度，有些DNS服务器会使用缓存技术，将已经查询过的DNS记录保存在本地缓存中，以便下一次查询时可以直接返回缓存中的结果，而不需要再次进行查询。此外，DNS查询过程中还可能会涉及DNS负载均衡、DNS安全等技术，以保证DNS系统的稳定性和安全性。

### 3.2、迭代查询与递归查询

实际上，DNS解析是一个包含迭代查询和递归查询的过程。

- **递归查询**指的是查询请求发出后，域名服务器代为向下一级域名服务器发出请求，最后向用户返回查询的最终结果。使用递归 查询，用户只需要发出一次查询请求。
- **迭代查询**指的是查询请求后，域名服务器返回单次查询的结果。下一级的查询由用户自己请求。使用迭代查询，用户需要发出 多次的查询请求。

一般我们向本地 DNS 服务器发送请求的方式就是递归查询，因为我们只需要发出一次请求，然后本地 DNS 服务器返回给我 们最终的请求结果。而本地 DNS 服务器向其他域名服务器请求的过程是迭代查询的过程，因为每一次域名服务器只返回单次 查询的结果，下一级的查询由本地 DNS 服务器自己进行。

### 3.3、DNS会同时使用TCP和UDP协议

是的，DNS（Domain Name System，域名系统）协议可以同时使用TCP（Transmission Control Protocol，传输控制协议）和UDP（User Datagram Protocol，用户数据报协议）协议进行通信。

DNS查询通常使用UDP协议，因为UDP是一种无连接协议，速度较快，适合处理短小的数据包。但是，UDP具有一些缺点，例如不可靠性和容易受到网络攻击。因此，对于较大的DNS查询或需要保证可靠性的操作，DNS协议可以使用TCP协议。

具体来说，当DNS查询的响应数据超过了UDP协议的最大数据包大小（通常是512字节），或者查询需要进行数据的传输和确认，DNS协议就会使用TCP协议。此外，DNS协议中的一些特殊操作，如DNS转发和AXFR（Zone Transfer）操作，也需要使用TCP协议。

因此，DNS协议可以根据具体的需求灵活地选择使用TCP或UDP协议，以实现高效、可靠的域名解析服务。是的，DNS（Domain Name System，域名系统）协议可以同时使用TCP（Transmission Control Protocol，传输控制协议）和UDP（User Datagram Protocol，用户数据报协议）协议进行通信。

DNS查询通常使用UDP协议，因为UDP是一种无连接协议，速度较快，适合处理短小的数据包。但是，UDP具有一些缺点，例如不可靠性和容易受到网络攻击。因此，对于较大的DNS查询或需要保证可靠性的操作，DNS协议可以使用TCP协议。

具体来说，当DNS查询的响应数据超过了UDP协议的最大数据包大小（通常是512字节），或者查询需要进行数据的传输和确认，DNS协议就会使用TCP协议。此外，DNS协议中的一些特殊操作，如DNS转发和AXFR（Zone Transfer）操作，也需要使用TCP协议。

因此，DNS协议可以根据具体的需求灵活地选择使用TCP或UDP协议，以实现高效、可靠的域名解析服务。是的，DNS（Domain Name System，域名系统）协议可以同时使用TCP（Transmission Control Protocol，传输控制协议）和UDP（User Datagram Protocol，用户数据报协议）协议进行通信。

DNS查询通常使用UDP协议，因为UDP是一种无连接协议，速度较快，适合处理短小的数据包。但是，UDP具有一些缺点，例如不可靠性和容易受到网络攻击。因此，对于较大的DNS查询或需要保证可靠性的操作，DNS协议可以使用TCP协议。

## 4、网络模型

### 4.1、OSI七层模型

### 4.2、TCP/IP五层协议

## 5、TCP与UDP

### 5.1、TCP 和 UDP的概念及特点

### 5.2、UDP协议为什么不可靠

### 5.3、TCP的重传机制

### 5.4、TCP的拥塞控制机制

### 5.5、TCP的可靠传输机制

### 5.6、TCP的三次握手和四次挥手

### 5.7、 TCP粘包是怎么回事，如何处理

### 5.8、为什么udp不会粘包

## 6、WebSocket

#### 6.1、对 WebSocket 的理解

### 6.2、即时通讯的实现：短轮询、长轮询、SSE 和 WebSocket 间的区别

## 7、场景题

### 7.1. 对keep-alive的理解

HTTP1.0 中默认是在每次请求/应答，客户端和服务器都要新建一个连接，完成之后立即断开连接，这就是**短连接**。当使用Keep-Alive模式时，Keep-Alive功能使客户端到服务器端的连接持续有效，当出现对服务器的后继请求时，Keep-Alive功能避免了建立或者重新建立连接，这就是**长连接**。其使用方法如下：

- HTTP1.0版本是默认没有Keep-alive的（也就是默认会发送keep-alive），所以要想连接得到保持，必须手动配置发送`Connection: keep-alive`字段。若想断开keep-alive连接，需发送`Connection:close`字段；
- HTTP1.1规定了默认保持长连接，数据传输完成了保持TCP连接不断开，等待在同域名下继续用这个通道传输数据。如果需要关闭，需要客户端发送`Connection：close`首部字段。

Keep-Alive的**建立过程**：

- 客户端向服务器在发送请求报文同时在首部添加发送Connection字段
- 服务器收到请求并处理 Connection字段
- 服务器回送Connection:Keep-Alive字段给客户端
- 客户端接收到Connection字段
- Keep-Alive连接建立成功

**服务端自动断开过程（也就是没有keep-alive）**：

- 客户端向服务器只是发送内容报文（不包含Connection字段）
- 服务器收到请求并处理
- 服务器返回客户端请求的资源并关闭连接
- 客户端接收资源，发现没有Connection字段，断开连接

**客户端请求断开连接过程**：

- 客户端向服务器发送Connection:close字段
- 服务器收到请求并处理connection字段
- 服务器回送响应资源并断开连接
- 客户端接收资源并断开连接

开启Keep-Alive的**优点：**

- 较少的CPU和内存的使⽤（由于同时打开的连接的减少了）；
- 允许请求和应答的HTTP管线化；
- 降低拥塞控制 （TCP连接减少了）；
- 减少了后续请求的延迟（⽆需再进⾏握⼿）；
- 报告错误⽆需关闭TCP连；

开启Keep-Alive的**缺点**：

- 长时间的Tcp连接容易导致系统资源无效占用，浪费系统资源。

### 7.2、页面有多张图片，HTTP是怎样的加载表现？

- 在`HTTP 1`下，浏览器对一个域名下最大TCP连接数为6，所以会请求多次。可以用**多域名部署**解决。这样可以提高同时请求的数目，加快页面图片的获取速度。
- 在`HTTP 2`下，可以一瞬间加载出来很多资源，因为，HTTP2支持多路复用，可以在一个TCP连接中发送多个HTTP请求。

### HTTP2的头部压缩算法是怎样的？

HTTP2的头部压缩是HPACK算法。在客户端和服务器两端建立“字典”，用索引号表示重复的字符串，采用哈夫曼编码来压缩整数和字符串，可以达到50%~90%的高压缩率。

具体来说:

- 在客户端和服务器端使用“首部表”来跟踪和存储之前发送的键值对，对于相同的数据，不再通过每次请求和响应发送；
- 首部表在HTTP/2的连接存续期内始终存在，由客户端和服务器共同渐进地更新；
- 每个新的首部键值对要么被追加到当前表的末尾，要么替换表中之前的值。

